<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/logo/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Social Networking Platforms" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo/logo192.png" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <link rel="stylesheet" href="%PUBLIC_URL%/style.css" />
  <title>ReachMe</title>

  <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
  <script>
    window.OneSignal = window.OneSignal || [];
    OneSignal.push(function () {
      OneSignal.init({
        appId: "c21a2fda-d1b7-49dd-8325-d1cf85bd7c1a",
      });
    });
  </script>
</head>

<body>

  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="main"></div>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('%PUBLIC_URL%/service-worker.js')
          .then((reg) => console.log('Success: ', reg.scope))
          .catch((err) => console.log('Failure: ', err))
      })
    }
  </script>
  <script type="text/javascript">
    OneSignal.push(function () {
      /* These examples are all valid */
      var isPushSupported = OneSignal.isPushNotificationsSupported();
      if (isPushSupported) {
        // Push notifications are supported
        console.log("Supported")
        OneSignal.isPushNotificationsEnabled(function (isEnabled) {
          if (isEnabled) {
            console.log("Push notifications are enabled!");
            OneSignal.getUserId(function (userId) {
              console.log("OneSignal User ID:", userId);
              // (Output) OneSignal User ID: 270a35cd-4dda-4b3f-b04e-41d7463a2316    
            });

          }
          else {
            console.log("Push notifications are not enabled yet.");
            OneSignal.push(function () {
              OneSignal.showHttpPrompt();
            });
          }
        });
      } else {
        // Push notifications are not supported
        console.log("Not supported")
      }
    });
  </script>

</body>

</html>